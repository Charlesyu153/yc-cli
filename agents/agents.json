{
  "version": "1.0.0",
  "description": "PCF 项目 AI Agents 配置",
  "project": {
    "name": "PCF",
    "description": "空间转录组学 CAF Niche 分析项目",
    "tech_stack": ["Python", "R", "scanpy", "Seurat", "spatialdata"],
    "context_files": [
      "README_ai-doc.md",
      "docs/AGENTS.md",
      "ai-docs/templates/ai-guidelines.md"
    ]
  },
  "agents": {
    "code-architect": {
      "config_file": ".claude/agents/code-architect.json",
      "description": "代码架构师 - 负责架构设计、技术选型和实施规划",
      "use_cases": [
        "设计新功能的技术架构",
        "评估不同实现方案",
        "制定详细的实施步骤",
        "重构超过 500 行的代码",
        "优化代码组织结构"
      ],
      "invocation": "请以 code-architect 的角色，帮我 [具体需求]"
    },
    "code-explorer": {
      "config_file": ".claude/agents/code-explorer.json",
      "description": "代码探索者 - 负责快速查找、理解代码结构和生成文档",
      "use_cases": [
        "查找特定功能的实现位置",
        "理解项目的代码结构",
        "生成代码文档",
        "追踪函数调用链",
        "分析模块依赖关系"
      ],
      "invocation": "请以 code-explorer 的角色，帮我 [具体需求]"
    },
    "code-reviewer": {
      "config_file": ".claude/agents/code-reviewer.json",
      "description": "代码审查者 - 负责代码质量检查、发现问题和提供改进建议",
      "use_cases": [
        "审查代码质量",
        "检查是否符合项目规范",
        "发现潜在的 bug 和问题",
        "提供代码改进建议",
        "验证文件行数限制"
      ],
      "invocation": "请以 code-reviewer 的角色，审查 [文件/目录]"
    }
  },
  "workflow_templates": {
    "feature_development": {
      "name": "功能开发流程",
      "description": "类似 feature-dev 插件的完整开发流程",
      "steps": [
        {
          "step": 1,
          "agent": "code-explorer",
          "action": "理解现有代码结构和相关功能"
        },
        {
          "step": 2,
          "agent": "code-architect",
          "action": "设计新功能的架构和实施方案"
        },
        {
          "step": 3,
          "agent": null,
          "action": "实现功能代码"
        },
        {
          "step": 4,
          "agent": "code-reviewer",
          "action": "审查代码质量和规范符合性"
        },
        {
          "step": 5,
          "agent": null,
          "action": "根据审查意见修改并提交"
        }
      ]
    },
    "code_refactoring": {
      "name": "代码重构流程",
      "description": "重构超过 500 行或需要优化的代码",
      "steps": [
        {
          "step": 1,
          "agent": "code-reviewer",
          "action": "审查现有代码，识别问题"
        },
        {
          "step": 2,
          "agent": "code-architect",
          "action": "设计重构方案和模块划分"
        },
        {
          "step": 3,
          "agent": null,
          "action": "执行重构"
        },
        {
          "step": 4,
          "agent": "code-reviewer",
          "action": "验证重构后的代码质量"
        }
      ]
    },
    "codebase_exploration": {
      "name": "代码库探索流程",
      "description": "快速理解新代码或复杂模块",
      "steps": [
        {
          "step": 1,
          "agent": "code-explorer",
          "action": "查找相关代码位置"
        },
        {
          "step": 2,
          "agent": "code-explorer",
          "action": "分析代码结构和依赖关系"
        },
        {
          "step": 3,
          "agent": "code-explorer",
          "action": "生成代码文档和说明"
        }
      ]
    }
  },
  "usage_examples": [
    {
      "scenario": "开发新的数据处理功能",
      "prompt": "请按照 feature-dev 流程，帮我开发一个新的数据处理功能：[功能描述]\n\n步骤1: 以 code-explorer 角色，了解现有的数据处理代码\n步骤2: 以 code-architect 角色，设计实现方案\n步骤3: 实现代码\n步骤4: 以 code-reviewer 角色，审查代码"
    },
    {
      "scenario": "重构超过 500 行的脚本",
      "prompt": "请帮我重构 [文件路径]，它超过了 500 行限制\n\n步骤1: 以 code-reviewer 角色，审查当前代码\n步骤2: 以 code-architect 角色，设计模块化方案\n步骤3: 执行重构\n步骤4: 以 code-reviewer 角色，验证重构结果"
    },
    {
      "scenario": "理解复杂的分析流程",
      "prompt": "请以 code-explorer 角色，帮我理解 CAF Niche v2 的完整分析流程，包括：\n1. 所有涉及的脚本文件\n2. 执行顺序和依赖关系\n3. 关键函数和数据流\n4. 生成流程文档"
    }
  ],
  "project_standards": {
    "python": {
      "style": "PEP 8",
      "indent": "4 spaces",
      "naming": "snake_case",
      "max_lines": 500
    },
    "r": {
      "indent": "2 spaces",
      "naming": "snake_case",
      "path_handling": "file.path()",
      "max_lines": 500
    },
    "general": {
      "no_emoji": true,
      "commit_per_step": true,
      "archive_when_done": true,
      "modularize_over_500_lines": true
    }
  }
}
